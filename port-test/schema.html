<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <script src="/scripts/metagenome.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <link rel="stylesheet" type="text/css" href="/styles/json.css">

    <script>
    $(document).ready(function() {

        var metagenome = new Populate();
        var organism = metagenome.start();

        console.log(organism);
        
   
        function output(inp) {
          if (document.body.getElementsByTagName('pre').length >= 1){
            var ele = document.getElementById('json');
            document.body.removeChild(ele);
          }
            var ele2 = document.createElement('pre');
            ele2.id = 'json';
            document.body.appendChild(ele2).innerHTML = inp;
            console.log('update');
        }

        function syntaxHighlight(json) {
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                var cls = 'number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'key';
                    } else {
                        cls = 'string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'boolean';
                } else if (/null/.test(match)) {
                    cls = 'null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }

        var str = JSON.stringify(organism, undefined, 4);
        output(syntaxHighlight(str));


     });
    </script>
  </head>
  <body>
  </body>
</html>