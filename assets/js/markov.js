/*
 * object.watch polyfill
 *
 * 2012-04-03
 *
 * By Eli Grey, http://eligrey.com
 * Public Domain.
 * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.
 */
 
// object.watch
if (!Object.prototype.watch) {
    Object.defineProperty(Object.prototype, "watch", {
          enumerable: false
        , configurable: true
        , writable: false
        , value: function (prop, handler) {
            var
              oldval = this[prop]
            , newval = oldval
            , getter = function () {
                return newval;
            }
            , setter = function (val) {
                oldval = newval;
                return newval = handler.call(this, prop, oldval, val);
            }
            ;
            
            if (delete this[prop]) { // can't watch constants
                Object.defineProperty(this, prop, {
                      get: getter
                    , set: setter
                    , enumerable: true
                    , configurable: true
                });
            }
        }
    });
}
 
// object.unwatch
if (!Object.prototype.unwatch) {
    Object.defineProperty(Object.prototype, "unwatch", {
          enumerable: false
        , configurable: true
        , writable: false
        , value: function (prop) {
            var val = this[prop];
            delete this[prop]; // remove accessors
            this[prop] = val;
        }
    });
}

var titles = [
"A Ba Ba Rum",
"Acacia Bella",
"Bacon Lady",
"Dainty Dancer",
"A Moment In Time",
"Easter Sunrise",
"Abex",
"Calgary Stampede",
"Aaron Edward",
"Bacchanal",
"Ballerina Princess",
"Damond Flynn",
"Early Christmas",
"Baby Girl",
"Bakabana",
"Eager And Early",
"C'Est Magnifique",
"Baby Girl",
"Cairo",
"Abnakis",
"Eddie Gage",
"B'More",
"Dallas Dawn",
"Canaan",
"Dance with Me Henry",
"D'Artagnan",
"Ebony Whirls",
"Camelot Green",
"Earlybird Orangeade",
"Dancing Shoes",
"Calling All Gardeners",
"A Babbling Baboon's Bouncing Babies",
"Acacia Brown Eyes",
"Bacon Michelle Yant",
"Dainty Deb",
"A Moose Fishing On A Pond On Monday",
"Easter Triumph",
"Abide With Me",
"Calico Blue Baby",
"Aaron Leonard",
"Bacchante",
"Ballerina Queen",
"Damsel",
"Early Days",
"Baby Grand",
"Baked Coral",
"Eager Beaver",
"C'Est Noel",
"Baby Grand",
"Cairo Night",
"Abordale",
"Eddie Rabbit Memorial",
"B.B. Collins",
"Dallas Fair",
"Canadian Blues",
"Dance Your Dream",
"D.R. Mckeithan",
"Eburnean",
"Camelot Kimberly",
"Earlybird Peachy Keen",
"Dancing Snow",
"Calling Dr. Bombay",
"A Bauble For Bilbo",
"Acacia Carla",
"Bacon Peewee",
"Dainty Design",
"A New View",
"Eastern Gate",
"Abiding Angel",
"Calico Charm",
"Aaron's Dinner Plate",
"Bachelor In Paradise",
"Ballerina Star",
"Damsel In Distress",
"Early Delight",
"Baby Gwyneth",
"Baker Trace",
"Eager To Please",
"C.S.I. Cayuga",
"Baby Gwyneth",
"Caitlin",
"Abou Ben Adhem",
"Eddy Luna",
"B.G. Pinckney",
"Dallas Green Eyes",
"Canadian Border Patrol",
"Dancer",
"Da Boss",
"Eccentricity",
"Camelot Rose",
"Earlybird Sunshine",
"Dancing Spree",
"Calling You",
"A Beautiful Beginning",
"Acacia Crystal",
"Bacon Queen",
"Dainty Designer",
"A Peachy Day",
"Eastern Inspiration",
"Abiding Goddess",
"Calico Day",
"Aaron's Little Whopper",
"Bachelor Party",
"Ballerina's Palace",
"Damson Delight",
"Early Dora",
"Baby Jake",
"Bal Des Anges",
"Eagle",
"Cabaletta Gold",
"Baby Jake",
"Caitlin Fancy",
"Abounding In Love",
"Edelweiss",
"B.J. And Bobbie",
"Dallas Ice Princess",
"Canadian Breeze",
"Dances With Elves",
"Da Doo Ron Ron",
"Echo",
"Cameo Bay",
"Earmarked",
"Dancing Sprite",
"Calliope Dakin",
"A Bit of Spice",
"Acacia Dandy",
"Bacon Supreme",
"Dainty Dish",
"A Peddler's Dream",
"Eastern Sky",
"Abiding Joy",
"Calico Girl",
"Aaron's Rod",
"Bachelor's Dream",
"Ballet",
"Dan Cupid",
"Early Early Truffle",
"Baby James",
"Balaringar Beacon",
"Eagle Eye",
"Caballero",
"Baby James",
"Caitlyn McKenzie",
"Abounding Joy",
"Eden",
"B.J. And Ed",
"Dallas Joy",
"Canadian Candy Braid",
"Dances With Giraffes",
"Da Vinci Gold",
"Echo Canyon",
"Cameo Coral",
"Earnest Gullion Memorial",
"Dancing Summerbird",
"Calliope Melody",
"A Bloom with a View",
"Acacia Daniel",
"Bacon Sweetheart",
"Dainty Dot",
"A Place In The Circle",
"Eastman Sunbeam",
"Abiding Love",
"Calico Jack",
"Aaron's Whopper",
"Bachman Bunch",
"Ballet Belle",
"Dan Edelman",
"Early Edition",
"Baby Jane Carter",
"Balaringar Bunny",
"Eagle Island",
"Cabaret Doublet",
"Baby Jane Carter",
"Cajun Beginning",
"Abounding Rose",
"Eden's Beauty",
"B.J. Mcmillen",
"Dallas Lass",
"Canadian Encore",
"Dances With Wolves",
"Daafu",
"Echo Of Love",
"Cameo Cupcake",
"Earnest Yearwood",
"Dancing Sunlight",
"Callisto",
"A Bodacious Pattern",
"Acacia Debbie",
"Bacon Warrior",
"Dainty Dreamer",
"A Place In The Sun",
"Easton James",
"Abiding Strength",
"Calico Print",
"Abalone",
"Bachman's Farm",
"Ballet Master",
"Dan Hull",
"Early Edition Tripod",
"Baby Jane Hudson",
"Balaringar Creation",
"Eagle Nest",
"Cabaret Finale",
"Baby Jane Hudson",
"Cajun Canary",
"About Face",
"Eden's Glory",
"Baa Baa Black",
"Dallas Light",
"Canadian Goose",
"Dancing Amy",
"Dabo Girl",
"Echo The Sun",
"Cameo Girl",
"Earth Angel",
"Dancing Veils",
"Calloway",
"A Bridge to Nowhere",
"Acacia Entertainer",
"Bacon White Sails",
"Dainty Eyes",
"A Promise Lives Within You Now",
"Easy As Pie",
"Abigail Adams",
"Calico Skies",
"Abalone Angel",
"Back Draft",
"Ballet Music",
"Dan John",
"Early Elegance",
"Baby Jay",
"Balaringar Dixie",
"Eagle of the Ninth",
"Cabaret Frostbite",
"Baby Jay",
"Cajun Christmas",
"About Time",
"Eden's Touch",
"Baba Yaga",
"Dallas Lightning",
"Canadian Idol",
"Dancing Beauty",
"Dacha",
"Echo Valley",
"Cameo Glass",
"Earth Day",
"Dancing Warriors",
"Calm Eve",
"A Bulldog's Face Chewing a Thistle",
"Acacia Fire Dancer",
"Bad But Beautiful",
"Dainty Little Angel",
"A Quack in Time",
"Easy Choice",
"Abigail Hall",
"Calico Spider",
"Abalone Island",
"Back Fence Row",
"Ballet Red Shoes",
"Dan Mahony",
"Early Evelyn",
"Baby Jessie",
"Balaringar Dream",
"Eagle Scout",
"Cabaret Royale",
"Baby Jessie",
"Cajun Concert",
"Above And Beyond",
"Edessa",
"Babacu Cream",
"Dallas Miss",
"Canadian Mist",
"Dancing Bees",
"Dacquiri",
"Echoes from the Past",
"Cameo Luster",
"Earth Fire",
"Dancing Waves",
"Calm the Storm",
"A Child's Wish",
"Acacia Glenn",
"Bad Dude Rose",
"Dainty Petite",
"A Rose at Dawn",
"Easy Come Easy Go",
"Abigail Williams",
"Calico Sunset",
"Abalone Pink",
"Back Scratcher",
"Ballet Russe",
"Dan My Man",
"Early Fragrance",
"Baby Julia",
"Balaringar Fox-Trot",
"Eagle Vision",
"Cabaret Star",
"Baby Julia",
"Cajun Curly Fries",
"Above Suspicion",
"Edgar Brown",
"Babbling Brook",
"Dallas Moon Goddess",
"Canadian Mountie",
"Dancing Bride",
"Dad's Best Purple",
"Echoes Of Desire",
"Cameo Painting",
"Earth Mom",
"Dancing With Drudy",
"Calvados",
"A Cut Above",
"Acacia Hazel",
"Bad Hair Day",
"Dainty Pink",
"A Servant's Hand",
"Easy Does It",
"Abigale",
"California Blues",
"Abba",
"Back to Black",
"Ballet Suite",
"Dan Seimens",
"Early Glow",
"Baby Julie",
"Balaringar Glitter",
"Eagle's Claw",
"Cabbage Flower",
"Baby Julie",
"Cajun Deco Art",
"Above The Clouds",
"Edgar Cayce",
"Babelsberg",
"Dallas Moonbeam",
"Canadian Serenade",
"Dancing Butterfly",
"Dad's Best White",
"Echoes Of Mercy",
"Cameo Princess",
"Earth Music",
"Dancing With Julie",
"Calvin Demarest",
"A Day At The Peach",
"Acacia Karen",
"Bad Moon Rising",
"Daiquiri",
"A Small Multitude",
"Easy Goer",
"Abigale My Love",
"California Butterfly",
"Abbeville Sunset",
"Back To School",
"Ballkleid",
"Dan Tau",
"Early Guest",
"Baby Kiss",
"Balaringar Gypsy",
"Eagle's Lair",
"Cabbage Rose",
"Baby Kiss",
"Cajun Gambler",
"Above The Crowd",
"Edge Ahead",
"Babes In Toyland",
"Dallas Music",
"Canadian Summer",
"Dancing By Firelight",
"Dad's Cinnamon Giant",
"Echoing Chimes",
"Cameo Queen",
"Earth Shaker",
"Dancing With Pink",
"Calvin Wells",
"A Day for Doris",
"Acacia Knock Out",
"Bad Soden",
"Daisy",
"A Special Lady",
"Easy Ned",
"Abilene Angel Wings",
"California Dreaming",
"Abbey Choir",
"Backseat Driver",
"Ballroom Belle",
"Dan Taus Pride",
"Early Honor",
"Baby Lamb",
"Balaringar Imp",
"Eagle's Wings",
"Cabell Greene",
"Baby Lamb",
"Cajun Lady",
"Above The Salt",
"Edge Crusher",
"Babette",
"Dallas Oster",
"Canadian Sunrise",
"Dancing Chevrons",
"Dad's Dream",
"Echos In The Mist",
"Cameron Clan",
"Earth Wind And Fire",
"Dancing With Rebecca",
"Calypso",
"A Day Of Rest",
"Acacia Lavender",
"Bad Vilbel",
"Daisy Art",
"A Special Rainbow",
"Easy Rhythm",
"Abilene be Proud",
"California Garden",
"Abbey Dore Court",
"Backstage Pass",
"Ballroom Waltz",
"Dan White",
"Early Interlude",
"Baby Lemonade",
"Balaringar Lordship",
"Eagles Gather",
"Caboodle",
"Baby Lemonade",
"Cajun Moon",
"Abracadabra",
"Edge of Acclaim",
"Babie Puff",
"Dallas Pride",
"Canadian Wind Braid",
"Dancing Corsair",
"Dad's Orange Giant",
"Echos Of Eden",
"Cameron Quantz",
"Earth's Calm",
"Dancy Nancy",
"Calypso Bay",
"A Face in the Crowd",
"Acacia Lilac Time",
"Badge Of Courage",
"Daisy Baby",
"A Spin On Barbara",
"Easy Rider",
"Abilene Blue Heart",
"California Girl",
"Abbey Gavin",
"Backstroke",
"Balls Of Fire",
"Dan's Little Black Spider",
"Early Isabel",
"Baby Love",
"Balaringar Memories",
"Eagles On High",
"Caboon",
"Baby Love",
"Cajun Queen",
"Abraham",
"Edge Of Darkness",
"Baby Angel Wings",
"Dallas Rose",
"Canadice",
"Dancing Crab",
"Daddeeo Segrest",
"Eclat Boreal",
"Cameroon Night",
"Earthen Vessel",
"Dandelion Wine",
"Calypso Chant",
"A Face Of Catriona",
"Acacia Marcia",
"Badge Of Honor",
"Daisy Belle",
"A Splash of Summer",
"Easy Street",
"Abilene Crab Claws",
"California Gold",
"Abbey Lane",
"Backwater Beauty",
"Balls Of Lightning",
"Dan's Sunshine Gold",
"Early Look",
"Baby Lucy",
"Balaringar Pom-Pom",
"Earcle Seabern Sowell",
"Caboose",
"Baby Lucy",
"Cajun Rainbow",
"Abridgement",
"Edge Of Distinction",
"Baby Baracuda",
"Dallas Ruffles",
"Canape",
"Dancing Dennis",
"Daddy Jake",
"Eclat D'Amethyste",
"Cameroon Waltz",
"Earthly Delights",
"Dandy Andy",
"Calypso Clown",
"A Father's Love",
"Acacia Matthew",
"Badger's Reminiscent Rainbow",
"Daisy Belle Thorp",
"A Tick Kissing A Moose On A Wednesday",
"Easy To Decide",
"Abilene Flaming Glory",
"California Gold Rush",
"Abbie",
"Backwoods Angel Face",
"Balls Of Red",
"Dan's Tea Party",
"Early Messenger",
"Baby Magic",
"Balaringar Research",
"Earl April",
"Caccia",
"Baby Magic",
"Cajun Skunk Eyed",
"Absalon",
"Edge Of Eden",
"Baby Bear",
"Dallas Sisterhood",
"Canape De Paris",
"Dancing Dolphin",
"Daddy Joe",
"Eclectic",
"Cameroons",
"Earthquake",
"Dandy Dan",
"Calypso Cool",
"A Few Good Men",
"Acacia Melanie",
"Baerenhoehle",
"Daisy Broussard",
"A Time to Paws",
"Easy To Love",
"Abilene Goat Track",
"California Sun",
"Abbie Boy",
"Backwoods Heartbeat",
"Ballyhoo",
"Dan's White Lie",
"Early Moonbeam",
"Baby Magic Lamp",
"Balaringar Rose",
"Earl Barfield",
"Cachet",
"Baby Magic Lamp",
"Cajun Spice",
"Absolute Bongo Jazz",
"Edge Of Eternity",
"Baby Bell",
"Dallas Spider Time",
"Canard",
"Dancing Dwarf",
"Daddy Longlegs",
"Eclipse de Lune",
"Cameroons Twister",
"Easley Green Wave",
"Dandy Dave",
"Calypso Coral",
"A Foggy Day",
"Acacia Moon Rocket",
"Baffin Bay Beauty",
"Daisy Buckman",
"A Touch Of Pizzaz",
"Eat My Dust",
"Abilene Golden Boy",
"California Sunshine",
"Abbirose",
"Backwoods Kittens With Mittens",
"Balthasar",
"Dana Gore",
"Early Morning",
"Baby Me",
"Balaringar Scallywag",
"Earl Brand",
"Cacophony",
"Baby Me",
"Cajun Spicy Bites",
"Absolute Treasure",
"Edge Of Evening",
"Baby Betsy",
"Dallas Star",
"Canary Feathers",
"Dancing Elf",
"Daddy's Girl",
"Eclipse Of The Heart",
"Camille Louise",
"Easley Ringmaster",
"Dandy Dwarf",
"Calypso Cutie",
"A Friend to All",
"Acacia Neale",
"Bafo",
"Daisy Carissa",
"A Tribute to Mary Gaskins",
"Eat Our Wake Pintaheads",
"Abilene Horned Toad",
"California Thrill Seeker",
"Abbot's Magic",
"Backwoods Merry Christmas",
"Baltimore Oriole",
"Dana Jolene Macfarland",
"Early Morning Smile",
"Baby Moon",
"Balaringar Sunset",
"Earl Dwight",
"Cactus Jack",
"Baby Moon",
"Cajun Spotlight",
"Absolute Zero",
"Edge Of Fancy",
"Baby Bibs",
"Dallas Sunshine",
"Canary Glow",
"Dancing Eyes",
"Daddy's Hand",
"Ecru Ensemble",
"Camino Real",
"Easley Sunrising",
"Dandy Gift",
"Calypso Dancer",
"A Gathering Of Angels",
"Acacia Pink Gem",
"Bag And Baggage",
"Daisy Della",
"A Walk to Remember",
"Eathel Curtis Boone",
"Abilene Joyce's Pick",
"California Trail",
"Abbots Robes",
"Backwoods Pastel Promise",
"Baltyk",
"Dana Maureen",
"Early Morning Surprise",
"Baby Moon Cafe",
"Balaringar Sweetheart",
"Earl Of Chatham",
"Cade Stewart",
"Baby Moon Cafe",
"Cajun Sunshine",
"Absolutely Fabulous",
"Edge Of Frenzy",
"Baby Blanket",
"Dallas Thistle",
"Canary in a Cage",
"Dancing Flames",
"Daddy's Heart",
"Ecstatic Edge",
"Camp Kettle",
"East Bay Sunset",
"Dandy Jim",
"Calypso Green",
"A Go Go",
"Acacia Popcorn",
"Bagana",
"Daisy Girl",
"A Worthy Life",
"Eating Crow",
"Abilene Joyce's Wonder",
"California Wine",
"Abbott",
"Backwoods Pink Perfection",
"Bam",
"Dana Morais",
"Early On",
"Baby Pillows",
"Balaringar Swing Time",
"Earl Of Lakeland",
"Cadence",
"Baby Pillows",
"Cajun Wedding Bells",
"Absolutely Fantastic",
"Edge Of Heaven",
"Baby Blue Eyes",
"Dallas Time",
"Canary Late",
"Dancing Fool",
"Daddy's Little Girl",
"Ed",
"Camp Meeting",
"East Coast Dreaming",
"Dane Craft",
"Calypso Noel",
"A Good Woman",
"Acacia Pretty Face",
"Baggette",
"Daisy McCarthy",
"A.W.; s Dream",
"Eaton Hail",
"Abilene Lillian",
"Caliph's Crown",
"Abbreviation",
"Backwoods Royal Prince",
"Bama Belle",
"Dana Townsend",
"Early Riser",
"Baby Pinwheels",
"Balaringar Two-Step",
"Earl Of Warwick",
"Cadiz",
"Baby Pinwheels",
"Cajun Windmill",
"Absolution",
"Edge of Infinity",
"Baby Blues",
"Dallas Tiny Tot",
"Canary Symphony",
"Dancing Heart",
"Daddy's Little Man",
"Ed And Edna",
"Camp-Out",
"East Hampton",
"Danette Louise",
"Calypso Queen",
"A Green Desire",
"Acacia Showpiece",
"Baghdad Bank Robbery",
"Daisy White",
"Aaaah Beautiful Pinwheel",
"Eau La La",
"Abilene Lori",
"Caliphs Robes",
"Abby Aldrich Rockefeller",
"Backwoods Seductress",
"Bama Birdsong",
"Dana Zeck",
"Early Shift",
"Baby Princess",
"Balas Rubies",
"Earl Rexroad Memorial",
"Cadmium Yellow",
"Baby Princess",
"Cake and Champagne",
"Abstract Art",
"Edge Of Knowledge",
"Baby Boomer",
"Dalliance Of Colors",
"Canary Tango",
"Dancing in a Pink Dress",
"Dads Real Baby",
"Ed And Shirley Ford",
"Campfire Embers",
"East Of Eden",
"Danger Ahead",
"Calypso Sunset",
"A Guava Queen",
"Acacia Strawberry Crush",
"Bahama Beauty",
"Dakar",
"Aabaa",
"Ebb Tide",
"Abilene Nan",
"Calistoga",
"Abby Dabby Doo",
"Backwoods Simple Pleasures",
"Bama Bound",
"Dance Among the Stars",
"Early Shirley",
"Baby Red Eyes",
"Bali At Dusk",
"Earl Roberts",
"Caerphilly",
"Baby Red Eyes",
"Cal",
"Abstraction",
"Edge of Lace",
"Baby Boomers Baby",
"Dalriada",
"Canary Wings",
"Dancing In Moonlight",
"Daffy",
"Ed Brown",
"Campfire Talk",
"East Of Suez",
"Danger Zone",
"Camaguay Cabaret",
"A Kiss For Kathy",
"Academy Award",
"Bahama Butterscotch",
"Dakota Destiny",
"Aabaca's Aba",
"Ebenezer",
"Abilene Pink Mama",
"Calistoga Sun",
"Abby Davisson",
"Backwoods Summer Ruffles",
"Bama Girl Tee",
"Dance Baby",
"Early Show",
"Baby Ruth",
"Bali Blender",
"Earl Watts",
"Caesar Augustus",
"Baby Ruth",
"Caladesi",
"Abu Dhabi",
"Edge Of Madness",
"Baby Brittany",
"Dalton Battin",
"Canberra",
"Dancing In Purple",
"Daffy Duck",
"Ed Dordon",
"Camphor Flame",
"Easter Candy",
"Dangerous Approach",
"Camaro",
"A Kiss from Your Lips",
"Acadia At Twilight",
"Bahama Mama",
"Dakota Princess",
"Aabaca's Abacus",
"Ebony And Ivory",
"Abilene Pretty Lady",
"Call Girl",
"Abby Morgan",
"Backwoods Violet Bouquet",
"Bama Golconda",
"Dance Ballerina Dance",
"Early Showoff",
"Baby So Big",
"Bali Hai",
"Earl's Delight",
"Caesar's Ghost",
"Baby So Big",
"Calady",
"Abundance",
"Edge Of Midnight",
"Baby Cakes",
"Damariscotta River Beacon",
"Cancer Survivor",
"Dancing In The Dark",
"Dag Nabbit",
"Ed Horn",
"Camphouse Belle",
"Easter Colors",
"Dangerous Attraction",
"Camay",
"A La Mode",
"Acadian Bride",
"Bahama Pink Sky",
"Dakota Sunshine",
"Aabachee",
"Ebony Avenger",
"Abilene Soso Queen",
"Call Me Beth",
"Abby Reade",
"Backwoods Wide Eyes",
"Bama Guest Speaker",
"Dance Band",
"Early Snow",
"Baby Sugar",
"Bali Watercolor",
"Earlene Garber",
"Caesar's Head",
"Baby Sugar",
"Calais",
"Abundance Of Riches",
"Edge Of Mirth",
"Baby Christie",
"Damariscotta River Great Pumpkin",
"Cancun",
"Dancing in the Sunlight",
"Daggy",
"Ed Jordan",
"Camptown Races",
"Easter Corsage",
"Dangerous Bluff",
"Cambio",
"A La Prochaine",
"Acadian Heritage",
"Bahama Ripples",
"Dakotah Sunset",
"Aachen",
"Ebony Circle",
"Abilene Sunrise",
"Call Me Irresistible",
"Abby Russell",
"Backyard Delight",
"Bama Hijacker",
"Dance Beguine",
"Early Spring",
"Baby Talk",
"Balinese Dancer",
"Earlianna",
"Cafe",
"Baby Talk",
"Calavera",
"Abundant",
"Edge of Night",
"Baby Crepe",
"Damariscotta River Prince",
"Cancun Candy",
"Dancing Jubilee",
"Dagmar",
"Ed Kirchhoff",
"Campus Kiss",
"Easter Courtship",
"Dangerous Liaisons",
"Cambridge Circle",
"A Lady Of Class",
"Acadian Lass",
"Bahama Royale",
"Dalai Lama",
"AACRAO Board",
"Ebony Eyes",
"Abilene Tall and Lanky",
"Call Me Pretty",
"Abc Kristin",
"Backyard Hustler",
"Bama Jubal",
"Dance Fever",
"Early Sunset",
"Baby Tiger Paws",
"Ball Gown",
"Early Alibi",
"Cafe Au Lait",
"Baby Tiger Paws",
"Calcasieu Rose",
"Abundant Blessings",
"Edge Of Oblivion",
"Baby Curls",
"Damascan Silk",
"Cancun Honeymoon",
"Dancing Lions",
"Dagnir",
"Ed Marshall",
"Campus Sweetie",
"Easter Finery",
"Dangling in Error",
"Camden Ballerina",
"A Lady's Charm",
"Acadian Moon",
"Bahia",
"Dale Bacon Memorial",
"Aadell Curtis",
"Ebony Fire",
"Abilene Thanks Linda",
"Call of the Awanichi",
"Abcada",
"Bacon Adam Thomas",
"Bama Maid",
"Dance For Joy",
"Early To Bed",
"Baby Titsue",
"Ballad of a Thin Man",
"Early And Curly",
"Cafe Mocha",
"Baby Titsue",
"Calcortia",
"Abundant Cascades",
"Edge Of Paradise",
"Baby Darling",
"Damascan Velvet",
"Candelabrum",
"Dancing Maiden",
"Dagobah",
"Ed Mercer",
"Can Can Dance",
"Easter Frill",
"Dangling Participle",
"Camden Charm",
"A Lady's Kiss",
"Acadian Mystique",
"Baie Des Chaleurs",
"Dale's Oh My",
"Aahme",
"Ebony Gem",
"Abilene Tom's Magic",
"Call Some Place Paradise",
"Abdullah",
"Bacon Angle",
"Bama Music",
"Dance Hall Dandy",
"Early To Rise Man",
"Baby Trey",
"Ballarat",
"Early And Often",
"Cafe Society",
"Baby Trey",
"Calculated Ambiguity",
"Abundant Grace",
"Edge Of Passion",
"Baby Di",
"Damascene",
"Candice Joy",
"Dancing Moonbeams",
"Dah Lee Su",
"Ed Murray",
"Can Can Dancer",
"Easter Gown",
"Daniel",
"Camden Crystal Lace",
"A Little Crabby",
"Acadiana",
"Bail Bond",
"Dales Indecision",
"Aaltje Bork",
"Ebony Hager",
"Abilene Tom's Spitfire",
"Call To Camelot",
"Abe",
"Bacon Baby",
"Bama's Red Zone",
"Dance Hall Dolly",
"Early Victorian",
"Baby Valentine",
"Ballarat Gold",
"Early Angelina",
"Cage",
"Baby Valentine",
"Caldera",
"Abundant Joy",
"Edge Of Peace",
"Baby Doll Pattern",
"Damascus Lions",
"Candid Camera",
"Dancing On Air",
"Dahlonga Gold",
"Ed Orndoff",
"Can We Talk",
"Easter Greeting",
"Daniel Gerard",
"Camden Firebug",
"A Little Fire Scarecrow",
"Acadiana Snow",
"Bailey",
"Dalkeith Hilda",
"Aardvark Ecstasy",
"Ebony Jewel",
"Abilene Westend",
"Call To Glory",
"Abednego",
"Bacon Ballerina",
"Bambi Doll",
"Dance On A Moonbeam",
"Early Winter",
"Baby Valpo",
"Ballard Clan",
"Early April",
"Cagliostro",
"Baby Valpo",
"Caleb",
"Abundant Life",
"Edge of Shangrila",
"Baby Dragon",
"Damascus Road",
"Candid Colors",
"Dancing Pastel",
"Daily Amen",
"Ed Osborn",
"Can You Hear Me Now",
"Easter Holiday",
"Daniel Mann",
"Camden Gold Dollar",
"A Little Late Folks",
"Acanthus",
"Bailey Walker",
"Dallas Apollo",
"Aardvark Escapade",
"Ebony Lamanite",
"Abinadi",
"Call To Remembrance",
"Abel",
"Bacon Bold Eyes",
"Bamboo Baby",
"Dance on the Wind",
"Earlybird Branched Brickey",
"Baby Viking",
"Ballentrea",
"Early Beauty",
"Cahaba Gold",
"Baby Viking",
"Caleb Joseph",
"Abundant Love",
"Edge of Watford",
"Baby Duck",
"Dame De Pecaudy",
"Candide",
"Dancing Penny",
"Daily Bread",
"Ed Paul",
"Can You See Me Now",
"Easter Island",
"Daniel Matthew Tau",
"Camden Queen",
"A Little Night Music",
"Acappella",
"Bailey Yawn",
"Dallas Beauty",
"Aaron And Lisa",
"Ebony Pools",
"Ablaze",
"Call To Worship",
"Abendstern",
"Bacon Brave",
"Bamboo Blackie",
"Dance Party",
"Earlybird Disco Yellow",
"Baby's Blush",
"Ballerina Beautiful",
"Early Belinda",
"Cahokia",
"Baby's Blush",
"Caleb Voshall",
"Abundant Ruffles",
"Edge Of Winyah",
"Baby Dumplings",
"Dame Edith",
"Candie Dwyer",
"Dancing Pixie",
"Daily Dollar",
"Ed Pommerening",
"Can't Get Enough",
"Easter Monday",
"Daniel O'Neal",
"Camden Spanish Treasure",
"A Lot Like Love",
"Acapulco",
"Bait And Switch",
"Dallas Charm",
"Aaron Bolton",
"Ebony Prince",
"Ablaze in Glory",
"Calle Arena Sunset",
"Abenstern",
"Bacon Circle",
"Bamboo Blazer",
"Dance Ten",
"Earlybird Gold Doubloon",
"Baby's Caress",
"Ballerina Curtsy",
"Early Bird",
"Caidie",
"Baby's Caress",
"Caleb Xavier Zbrozek",
"Acacia",
"Edge Of Your Seat",
"Baby Dylan",
"Dame Fortune's Fancy",
"Candied Citron",
"Dancing Pony",
"Daily Glow",
"Ed Quarry",
"Can't Hurry Love",
"Easter Moon",
"Daniel Pansegrau",
"Camden Yards Star",
"A Magic Breeze",
"Acapulco Daze",
"Baitoushan",
"Dallas Cloud",
"Aaron Boy",
"Ebony Radiance",
"Ablazing Rimfire",
"Called to Serve",
"Aberdeen",
"Bacon Gem",
"Bamboo Bozo",
"Dance Til Dawn",
"Earlybird Golden Harbinger",
"Babylon Sister",
"Ballerina Elyse",
"Early Bird Special",
"Cain",
"Babylon Sister",
"Caledonia",
"Acacia Amethyst",
"Edged By Morning",
"Baby Eric",
"Dame Maria",
"Candied Popcorn Perfection",
"Dancing Rainbow",
"Daily Reprieve",
"Ed's Choice",
"Can't Keep A Secret",
"Easter Morn",
"Daniel Webster",
"Came to Believe",
"A Maidens Innocence",
"Acapulco Flame",
"Baja",
"Dallas Corona",
"Aaron Boylan",
"Ebony Tot",
"Abluted Pink",
"Callie Kaiser",
"Aberdeen Beauty",
"Bacon Gold Nugget",
"Bamboo Curtain",
"Dance To The Music",
"Earlybird Lemon Crepe",
"Babylonian Baroque",
"Ballerina Girl",
"Early Call",
"Cain Circle",
"Babylonian Baroque",
"Caledonia Jewel",
"Acacia Apricot",
"Edged Electricity",
"Baby Feet",
"Dame Rumor",
"Candle Happy",
"Dancing Rhythm",
"Daina",
"Ed's Passion",
"Can't Live Without You",
"Easter Pastel",
"Daniel's Daily Double",
"Camel Caravan",
"A Midsummer Night's Dream",
"Acapulco Gold",
"Bajamar",
"Dallas Dance",
"Aaron Brown",
"Ebony Velvet",
"Abnaki Crossing",
"Calling All Angels",
"Aberdeen Lea",
"Bacon Greenback",
"Bamboo Design",
"Dance With Me",
"Earlybird Lemon-Lime Parfait",
"Babylonian Pearl",
"Ballerina On Ice",
"Early Cecilia",
"Cairns",
"Babylonian Pearl",
"Calgary",
"Acacia Baby Rose",
"Edged In Ice",
"Baby Fresh",
"Damien Charman",
"Candle In the Wind",
"Dancing Shiva",
"Daintiness",
"Edd",
"Can't Touch This",
"Easter Sunday",
"Daniel's Delight",
"Camelot Gold"
];

var terminals = {};
var startwords = [];
var wordstats = {};

for (var i = 0; i < titles.length; i++) {
    var words = titles[i].split(' ');
    terminals[words[words.length-1]] = true;
    startwords.push(words[0]);
    for (var j = 0; j < words.length - 1; j++) {
        if (wordstats.hasOwnProperty(words[j])) {
            wordstats[words[j]].push(words[j+1]);
        } else {
            wordstats[words[j]] = [words[j+1]];
        }
    }
}


var choice = function (a) {
    var i = Math.floor(a.length * Math.random());
    return a[i];
};

var make_title = function (min_length) {
    word = choice(startwords);
    var title = [word];
    while (wordstats.hasOwnProperty(word)) {
        var next_words = wordstats[word];
        word = choice(next_words);
        title.push(word);
        if (title.length > min_length && terminals.hasOwnProperty(word)) break;
    }
    if (title.length < min_length) return make_title(min_length);
    return title.join(' ');
};

var randomIntFromInterval = function(min,max) {
    return Math.floor(Math.random()*(max-min+1)+min);
}

$(document).ready(function() {
    function watchFunction(){
        watch(globals, function(){
            var title = make_title(3 + Math.floor(3 * Math.random()));
            $('#generated_title').html(title);
        });
    }
    var title = make_title(3 + Math.floor(3 * Math.random()));
    $('#generated_title').html(title);
    $('#generated_percent').html(randomIntFromInterval(6500, 9999)/100);
    setTimeout(function(){
        var o;
        globals.watch('value', function(){
            var title = make_title(3 + Math.floor(3 * Math.random()));
            $('#generated_title').html(title);
            $('#generated_percent').html(randomIntFromInterval(6500, 9999)/100);
            var dataURL= canvas.toDataURL();

            var d = new Date();
            var date = d.getTime();
            var imgname ='metagenome-'+date+'.png';

            // use jQuery to POST the dataUrl to you php server
            if (document.location.hostname != "localhost"){
                $.ajax({
                    type: "POST",
                    url: "./server/tumblr.php",
                    data: {image: dataURL, name: title }
                }).done(function( response ) {
                    // Done...report success or failure
                    // You will get back the temp file name
                    // or "Unable to save this image."
                    console.log(response);
                });
            }
        });
    }, 5000);
});